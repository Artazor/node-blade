(function(){function c(a,b){var c=a+" ";for(var d=0;d<b-c.length+1;d++)c=" "+c;return c}var a=exports||{},b={};if(a.client=typeof window!="undefined")window.blade={runtime:a,cachedViews:b,cb:{}};a.escape=function(a){return(new String(a)).replace(/&(?!\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},a.attrs=function(b,c){for(var d in b){if(b[d].val==null)continue;d=="class"&&(b[d].val instanceof Array&&(b[d].val=b[d].val.join(" ")),b[d].append&&(b[d].val=(b[d].val.length>0?" ":"")+b[d].append)),b[d].escape?c.push(" "+d+'="'+a.escape(b[d].val)+'"'):c.push(" "+d+'="'+b[d].val+'"')}},a.loadTemplate=function(b,c,d){if(a.client){var e=document.createElement("script");e.type="application/javascript",e.async=!0,e.src="/views/"+b;var f=document.getElementsByTagName("script")[0];f.parentNode.insertBefore(e,f);var g=setTimeout(function(){delete h.cb[b],d(new Error("Timeout Error: Blade Template ["+b+"] could not be loaded."))},15e3);h.cb[b]=function(a){clearTimeout(g),delete h.cb[b],d(null,a[b])}}else{var h=require("./blade");h.compileFile(b,c,function(a,b){if(a)return d(a);d(null,b.template)})}},a.include=function(c,d,e){function f(a,b,c){if(a)return e(a);for(var f in c.blocks){var g=c.blocks[f],h=d.blocks[f];g.pos!=null?(g.pos+=d.buf.length,d.blocks[f]=g):(g.replace&&(delete h.paramBlock,delete h.renderArgs,delete h.append,delete h.prepend,h.replace=!0),g.renderArgs!=null&&(h.renderArgs=g.renderArgs),g.block!=null&&(h.block=g.block),g.append!=null&&(h.append!=null?h.append+=g.append:h.append=g.append),g.prepend!=null&&(h.prepend!=null?h.prepend=g.prepend+h.prepend:h.prepend=g.prepend))}for(var f in c.buf)d.buf.push(c.buf[f]);e(null)}b[c]?b[c](d.locals,a,f):a.loadTemplate(c,a.compileOptions,function(b,c){if(b)return e(b);c(d.locals,a,f)})},a.blockDef=function(a,b,c){var d=b.blocks[a]={pos:b.buf.length};return b.buf.push(""),c.length>0?d.paramBlock=c:d.block=c().join(""),d},a.blockRender=function(a,b){var c=b.blocks[a]=b.blocks[a]||{},d=[];for(var e=2;e<arguments.length;e++)d[e-2]=arguments[e];c.renderArgs=d},a.blockMod=function(a,b,c,d){var e=c.blocks[b]=c.blocks[b]||{};a=="replace"?(delete e.paramBlock,delete e.renderArgs,delete e.append,delete e.prepend,e.replace=!0,e.block=d().join("")):a=="append"?e.append=(e.append==null?"":e.append)+d().join(""):e.prepend=d().join("")+(e.prepend==null?"":e.prepend)},a.done=function(a){var b=a.blocks;for(var c in b){var d=b[c];d.pos!=null&&(d.paramBlock&&d.renderArgs&&(d.block=d.paramBlock.apply(this,d.renderArgs).join("")),a.buf[d.pos]=(d.prepend?d.prepend:"")+(d.block?d.block:"")+(d.append?d.append:""))}},a.rethrow=function(a,b){b==undefined&&(b=a),b.column=b.col;var d=a.message+"\n    at "+(b.filename==null?"<anonymous>":b.filename)+(b.line==null?"":":"+b.line)+(b.column==null?"":":"+b.column);if(b.source!=null){const e=3;var f=b.source.split("\n"),g=Math.max(b.line-e,0),h=Math.min(b.line+e,f.length),i=(new String(h)).length;f=f.slice(g,h),d+="\n\n";for(var j=0;j<f.length;j++)d+=c(j+g+1,i)+(j+g+1==b.line?">	":"|	")+f[j]+"\n"}return a.message=d,a.filename=b.filename,a.line=b.line,a.column=b.column,a}})();